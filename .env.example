# SB29-guard Example Environment Variables
# Copy to .env and adjust. Do not commit real credentials.

# Core Mode
SB29_MODE=serve               # serve | once
SB29_POLICY_SOURCE=file       # file | sheet

# Policy (File Mode)
SB29_POLICY_FILE=policy/domains.yaml

# Google Sheets (Sheet Mode)
SB29_SHEET_ID=                # e.g. 1AbCDEFghiJKLmnopQR_stUvwxYZ12345
SB29_SHEET_RANGE=Policy!A:Z   # TabName!Range
SB29_SHEET_API_KEY=           # Optional if using service account
SB29_GOOGLE_CREDENTIALS_JSON=./secrets/google-service-account.json  # Mutually exclusive with API key
SB29_SHEET_FETCH_INTERVAL_SEC=300
SB29_CACHE_DIR=./cache
SB29_FALLBACK_POLICY=policy/domains.yaml

# Redirect Service
SB29_LISTEN_PORT=8080
SB29_REDIRECT_MODE=direct_page   # direct_page | http_redirect
SB29_REDIRECT_STATUS=302
SB29_REDIRECT_HOST=guard.school.local
SB29_STATIC_FALLBACK=./public/fallback.html
SB29_LAW_URL=https://search-prod.lis.state.oh.us/api/v2/general_assembly_135/legislation/sb29/05_EN/pdf/

# DNS Generation Defaults
SB29_REDIRECT_IPV4=10.10.10.50
# SB29_REDIRECT_IPV6=fd00::50
SB29_DNS_TTL=300

# Logging / Metrics
SB29_LOG_LEVEL=info
SB29_METRICS_ENABLED=false
SB29_AGGREGATE_FLUSH_INTERVAL_SEC=60

# Admin Security
SB29_ADMIN_USER=admin
SB29_ADMIN_PASS=change_me

# Feature Flags
SB29_FEATURE_API_DOMAIN_INFO=true
SB29_FEATURE_METRICS=false
SB29_FEATURE_ADMIN_REPORTING=false

# Sheets Validation Feedback (future placeholder)
SB29_SHEET_ERROR_TAB=ValidationErrors

# Misc
SB29_LOCALE_DEFAULT=en-US

# DO NOT place secrets below without securing .env file permissions.
